
-----------------------------------------------------------------------------------------------------------------------------


NURBS Enhanced

Thursday:

	(Done) - Add introduction to journal paper (1/2)

Friday:

	(Done) - Add introduction to journal paper (2/2)

Saturday:

	- Try to get a NURBS geometry from an open source CAD software. See if you can pair this
		with the NURBS patch generation.

Sunday:

	- Add open file with create option (if path doesn't exist)

	- Start adding triangle support

		- Get locations of the vertices on the knot domain first using an operator.

			- Verify locations on knot domain are identical with old formulation and new operator one.

		- Check the cubature on triangles

		- Compute the chain rule terms using the operator

		- Modify case statements to now be general and handle any element

		- Test a mesh with triangles

Monday:
	
	- Add grid deformation section to journal paper.

		- Show single patch deformation case.

		- Show multiple patch deformation case.

	- Add optimization procedure section

	- Review additions to journal paper and submit update

Monday:

	- Get locations of the cubature nodes on the knot domain first using an operator.

		- Verify locations on knot domain are identical with old formulation and new operator one.


- Finalize clean up of implementation for optimization.

- Template the objective function file to be able to have a real and complex version of the function.

- Implement test case to see how conjugate gradient method works

- Read the NURBS geometry information from the ctrl file now (no longer
	use a macro).

	- Remove all occurences of the Macro

- Clean up implementation of the functions in bases.c/h and 
	geometry_parametric_T.c/h. 

	- Place doxygen style comments for functions. Move the comments from the src
		file to the header.

-----------------------------------------------------------------------------------------------------------------------------


IGA-DG

Thursday/Friday:

	- Implement 1D multi-patch, acoustic equation (2/3)

		(Done) - Set the 1D mesh

		(Done) - Set the initial condition

		(Done) - Set the mass matrix

		(Done) - Set the periodic BCs

			- Set the left and right patch for each patch in the mesh (set connectivity)

		(Done) - Map integrals to the reference domain. See what jacobian terms come up

		(Done) - Compute a_skew on each patch

		(Done) - Compute a_sym on each patch

		(Done) - Solve system of equations on each patch for derivative of phi_hat

		(Done) - Time step

		- Try simpler implementation with an upwind numerical flux

			- Derive system of equations

			- set RHS for new system

			- time step solution and see its evolution



- Implement optimial knot calculation

- Get the delta knot and delta abscissae plots for the smoothing

-----------------------------------------------------------------------------------------------------------------------------


OVERALL GOALS: (For the end of the Summer - August 15)

(1) Complete all NURBS enhanced optimization cases and compile the results into a publishable paper on high-order adjoint-based shape optimization
	for the NURBS enhanced approach. One case should be read from a CAD file.

(2) Complete a multi-patch IGA-DG code and investigate the stability results. Study 1D and 2D cases. Compile the results into the final poster presentation.

(Optional) (3) Complete a multi-patch IGA-DG code with optimization using the discrete adjoint approach and the Euler equations. Compile the results into a publishable paper
	on high-order adjoint based shape optimization using Isogeometric Analysis. One case should be read from a CAD file.


-----------------------------------------------------------------------------------------------------------------------------



ToDo:
	- Implement efficient NURBS mapping derivative using NURBS book 
		algorithm which gets around the use of the derivative of the
		basis functions.
	- Alternate approach of using the NURBS metric terms
		- Compute the metric terms using the NURBS mapping at the metric nodes. This will
				now form a basis that can be used to find the values at any other nodes. 
		- Issue is, how to get the geom_coef values using the metric terms.
			- Traditionally what is done: 
				- For the volume cubature nodes, we use an operator to go 
					from vm (volume metric) to vc (volume cubature). 
				- For the face, we once again interpolate from the vm (volume metric)
					to the fc (face cubature) nodes. 
	- Template the objective function section

	- Create the optimization.data file from the NURBS patch generator

		- Add in the information for the type of optimization, so that we know which 
			objective function to set the function pointer to.

		- Add an option for what type of approach to use for the optimization (ex: BFGS, 
			steepest descent, NLPQLP). Read in this parameter from the file.

Optimization Cases:

	- Accompanying the .geo file will need to be an optimization.data file which will
		hold which NURBS control points should be treated as design variables and
		what their degrees of freedom are (use the control point indeces in the 
		.geo file)

	- Will set function pointers to the objective function to be used in the 
		optimization. This way, can easily switch between optimizing one 
		objective to another. If each objective is templated properly, then
		computing the partials of the objective will be simple.

			- Simply, take as input to the function the pointer to the objective
				function and then perform all the complex steps to find all the
				terms of the RHS and sensitivity equation terms.

			- Return a multiarray with the data (RHS and sensitivity equation terms)






